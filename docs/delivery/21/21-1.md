# 21-1 Sync MCP Server Tool Registry with Full Plugin Tool Set

[Back to task list](./tasks.md)

## Description
Update the MCP server tool registry to include all tools available in the current plugin (CODAP, SageModeler, and any new tools), ensuring server and plugin tool lists are fully aligned. This will enable accurate capability-based filtering and prevent tool exposure mismatches.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| YYYY-MM-DD HH:MM:SS | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements
- Audit the current plugin tool set (CODAP, SageModeler, and any new tools)
- Audit the current MCP server tool registry
- Identify and document any discrepancies
- Update the MCP server tool registry to include all missing tools
- Ensure tool schemas and implementations are up to date and match the plugin
- Add/adjust tests to verify registry completeness

## Implementation Plan
1. Extract the full list of tools from the current plugin (including all capabilities)
2. Extract the current MCP server tool registry
3. Compare the two lists and identify missing or outdated tools
4. Update the server registry to add missing tools and update schemas/implementations as needed
5. Refactor registry code for maintainability if required
6. Add or update tests to verify registry completeness and correctness
7. Document the updated registry and any changes made

## Verification
- All tools available in the plugin are present in the MCP server registry
- Tool schemas and implementations match between plugin and server
- Tests pass verifying registry completeness
- Manual and/or automated checks confirm no missing or outdated tools

## Files Modified
- `server/codap-tools.ts` (update/add tools)
- `server/tool-registry.js` or equivalent (update registry)
- `src/services/browserWorker/schemas/toolSchemas.ts` (reference for plugin tools)
- `src/test/` (add/update registry tests)
- Documentation as needed 